# Flyweightパターン

## 説明

- ゲームなどのメモリ効率が求められる場面において、ある一つのオブジェクトを外因的状態(頻繁に変更される・バリエーションが豊富な部分)と内因的状態(あまり変更されない部分)に分け、外因的状態が内因的状態を参照として保持することによって内因的状態の不必要な作成・複製を防ぐパターン．
- Rustにおいては変更できる参照を複数が保持することはできないため，`Rc<RefCell<ファクトリ(HashMap)>>`のように内部可変性を用いることになる．
- ゲーム開発ではECS(Entity Component System)というパラダイムがよく用いられている．ECSはデータ構造をストレージに保存・IDによる一括管理によってRustで再現しにくい複雑なデータ構造も再現できる．
- `ecs`ディレクトリではECSを用いて実装している．
