# Abstract Factoryパターン

## 説明

Factory Methodパターンにおいてファクトリをサブクラスのメソッドとするのではなく、プロダクトを作成するためのクラスとして定義し抽象ファクトリを設けるバージョン．

- 抽象ファクトリからプロダクトを直接作成するか、プロダクトから抽象ファクトリのメソッドを呼んで，プロダクト自身を作成する二つのパターンを考えることができる．前者はファクトリ内の場合分けやトレイトの実装回数をプロダクトの数だけ行わなければならないのに対し、後者は具象プロダクトが抽象ファクトリの使い方を選ぶことができ、抽象ファクトリのメソッドの数が増えるだけで済む．プロダクトの数 < ファクトリの数である場合は後者を使うべきである．
- Factory MethodをDI+具象クリエイターで実現した場合は、DIしたいファクトリのトレイトを拡張し、プロダクトにもDIを行うようにすることで実現できる．
